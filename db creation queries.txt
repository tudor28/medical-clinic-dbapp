CREATE TABLE Pacient(
ID_P INT IDENTITY(1,1) PRIMARY KEY,
CNP NCHAR(13) UNIQUE NOT NULL,
Varsta INT,
Nume NVARCHAR(30) NOT NULL,
Prenume NVARCHAR(30) NOT NULL,
Adresa NVARCHAR(50),
Telefon NCHAR(10) NOT NULL);

CREATE TABLE Doctor(
ID_D INT IDENTITY(1,1) PRIMARY KEY,
CNP NCHAR(13) UNIQUE NOT NULL,
Nume NVARCHAR(30) NOT NULL,
Prenume NVARCHAR(30) NOT NULL,
Grad NVARCHAR(20) NOT NULL,
Telefon NCHAR(10) NOT NULL,
Email NVARCHAR(30),
ID_Dep INT NOT NULL,
FOREIGN KEY(ID_Dep) REFERENCES Departament(ID_Dep));

CREATE TABLE Salon(
Nr_S INT PRIMARY KEY,
Etaj NVARCHAR(6));

CREATE TABLE Consultatie(
ID_P INT NOT NULL, ID_D INT NOT NULL,
FOREIGN KEY(ID_P) REFERENCES Pacient(ID_P),
FOREIGN KEY(ID_D) REFERENCES Doctor(ID_D),
Data NVARCHAR(30) NOT NULL,
PRIMARY KEY(ID_P,ID_D,Data),
Ora NVARCHAR(10) NOT NULL,
Sala INT NOT NULL);

CREATE TABLE Internare(
ID_P INT NOT NULL, Nr_S INT NOT NULL,
FOREIGN KEY(ID_P) REFERENCES Pacient(ID_P),
FOREIGN KEY(Nr_S) REFERENCES Salon(Nr_S),
Data_internare NVARCHAR(30) NOT NULL,
Data_externare NVARCHAR(30) NOT NULL,
PRIMARY KEY(ID_P,Nr_S,Data_internare,Data_externare));

CREATE TABLE Departament(
ID_Dep INT IDENTITY(1,1),
PRIMARY KEY(ID_Dep),
Specializare NVARCHAR(20) NOT NULL,
Email NVARCHAR(30),
Telefon NCHAR(10));

CREATE TABLE Rezultate_Analize(
ID_Rezultate INT IDENTITY(1,1),
PRIMARY KEY(ID_Rezultate),
ID_P INT NOT NULL,
FOREIGN KEY(ID_P) REFERENCES Pacient(ID_P),
Valoare_Referinta INT NOT NULL,
Valoare_Rezultat INT NOT NULL);
